<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>User Management Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
      body{
    font-family: 'Open Sans', sans-serif;
    background-size:cover;
    background:linear-gradient(to right,#cef5de,#8ee4af,#5cdb95,#379683);
    text-align: center;
}
      .search-input {
    height: 40px; 
    width: 300px;
    background-color: transparent; 
}

    </style>
</head>

<body>
<div class="container mt-5">
<h1 class="mb-4 text-center text-primary">User Management</h1>

<div class="mb-3"><div class="d-flex justify-content-between">
    <a href="/admin/adduser" class="btn btn-success">Add New User</a>
    <a href="/admin/adminlogout" class="btn btn-danger ml-2x">Logout</a></div>
    <form class="d-flex justify-content-center" action="/admin/adminhome" method="post">
        <input type="text" name="search" class="form-control mt-3 search-input" placeholder="Search by User Name" >
        <button type="submit" class="btn btn-success mt-3 ml-5">Search</button>
    </form>
    <a href="/admin/adminhome" class="btn btn-success ml-2">View All</a>
    
</div>

<table class="table table-bordered">
    <thead class="thead-dark">
        <tr>
            <th>Name</th>
            <th>E-Mail</th>
            <th>Password</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <% if(locals.users) { %>
        <% users.forEach(function(data) { %>
        <tr>
            
            <td><%= data.username %></td>
            <td><%= data.email %></td>
            <td>********</td>  <!--  password hashed -->
            <td>
                <a href="/admin/update/<%= data.email%>" class="btn btn-primary btn-sm">Update</a>
                <a href="/admin/delete/<%= data.email%>" class="btn btn-danger btn-sm">Delete</a>
            </td>
        </tr>
        <% }); %>
        <% } else { %>
          <tr>
              <td colspan="4">No results found.</td>
          </tr>
          <% } %>
    </tbody>
</table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
